<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Galey Wangmo">

<title>Data Cleaning</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="02_data_cleaning_files/libs/clipboard/clipboard.min.js"></script>
<script src="02_data_cleaning_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="02_data_cleaning_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="02_data_cleaning_files/libs/quarto-html/popper.min.js"></script>
<script src="02_data_cleaning_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="02_data_cleaning_files/libs/quarto-html/anchor.min.js"></script>
<link href="02_data_cleaning_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="02_data_cleaning_files/libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="02_data_cleaning_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="02_data_cleaning_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="02_data_cleaning_files/libs/bootstrap/bootstrap-81267100e462c21b3d6c0d5bf76a3417.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent quarto-light">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Data Cleaning</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Galey Wangmo </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="load-required-libraries" class="level3">
<h3 class="anchored" data-anchor-id="load-required-libraries">01. Load Required Libraries</h3>
<p>This section loads all necessary R packages used for data cleaning, transformation, and visualization.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.4     ✔ readr     2.1.5
✔ forcats   1.0.1     ✔ stringr   1.5.2
✔ ggplot2   4.0.0     ✔ tibble    3.3.0
✔ lubridate 1.9.4     ✔ tidyr     1.3.1
✔ purrr     1.1.0     
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(here)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>here() starts at /Users/galeywangmo/Documents/Intern/QCIF-Workshop-Analytics</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(janitor)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'janitor'

The following objects are masked from 'package:stats':

    chisq.test, fisher.test</code></pre>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(digest)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'scales'

The following object is masked from 'package:purrr':

    discard

The following object is masked from 'package:readr':

    col_factor</code></pre>
</div>
</div>
</section>
<section id="load-merged-datasets" class="level3">
<h3 class="anchored" data-anchor-id="load-merged-datasets">02 Load Merged Datasets</h3>
<p>This section imports the merged attendance and waitlist datasets from the output folder for further cleaning and analysis.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define output folder</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>output_dir <span class="ot">&lt;-</span> <span class="fu">here</span>(<span class="st">"output"</span>)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Read merged datasets</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>attendance_all_years <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="fu">file.path</span>(output_dir, <span class="st">"attendance_all_years.csv"</span>))</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>waitlist_all_years <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="fu">file.path</span>(output_dir, <span class="st">"waitlist_all_years.csv"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="exploratory-data-analysis" class="level3">
<h3 class="anchored" data-anchor-id="exploratory-data-analysis">03. Exploratory Data Analysis</h3>
<p>This section explores the dataset structure,and examines missing values before cleaning.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(attendance_all_years)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 5,251
Columns: 60
$ Event                                                                                                                                                         &lt;chr&gt; …
$ First.name                                                                                                                                                    &lt;chr&gt; …
$ Last.name                                                                                                                                                     &lt;chr&gt; …
$ Seating.location                                                                                                                                              &lt;lgl&gt; …
$ Ticket.type                                                                                                                                                   &lt;chr&gt; …
$ Reporting.group                                                                                                                                               &lt;lgl&gt; …
$ Package                                                                                                                                                       &lt;lgl&gt; …
$ Order.id                                                                                                                                                      &lt;chr&gt; …
$ Ticket.no.                                                                                                                                                    &lt;chr&gt; …
$ Order.date...time                                                                                                                                             &lt;chr&gt; …
$ Timezone                                                                                                                                                      &lt;chr&gt; …
$ Buyer.first.name                                                                                                                                              &lt;chr&gt; …
$ Buyer.last.name                                                                                                                                               &lt;chr&gt; …
$ Buyer.mobile                                                                                                                                                  &lt;chr&gt; …
$ Buyer.email                                                                                                                                                   &lt;chr&gt; …
$ First.Name                                                                                                                                                    &lt;chr&gt; …
$ Last.Name                                                                                                                                                     &lt;chr&gt; …
$ Email                                                                                                                                                         &lt;chr&gt; …
$ Mobile                                                                                                                                                        &lt;chr&gt; …
$ I.am.                                                                                                                                                         &lt;chr&gt; …
$ Please.specify.                                                                                                                                               &lt;chr&gt; …
$ Organisation                                                                                                                                                  &lt;chr&gt; …
$ School.or.faculty                                                                                                                                             &lt;chr&gt; …
$ Organisation.Company                                                                                                                                          &lt;chr&gt; …
$ How.did.you.find.out.about.this.workshop.                                                                                                                     &lt;chr&gt; …
$ Paid                                                                                                                                                          &lt;chr&gt; …
$ Humanitix.passed.on.fees                                                                                                                                      &lt;chr&gt; …
$ Humanitix.absorbed.fees                                                                                                                                       &lt;chr&gt; …
$ Amex.surcharge                                                                                                                                                &lt;chr&gt; …
$ Custom.tax                                                                                                                                                    &lt;chr&gt; …
$ Zip.fee.absorbed.                                                                                                                                             &lt;chr&gt; …
$ Afterpay.fee.absorbed.                                                                                                                                        &lt;chr&gt; …
$ Refunds                                                                                                                                                       &lt;chr&gt; …
$ Fee.rebate                                                                                                                                                    &lt;chr&gt; …
$ Your.earnings                                                                                                                                                 &lt;chr&gt; …
$ Refunded.fees                                                                                                                                                 &lt;chr&gt; …
$ Discount.code.used                                                                                                                                            &lt;chr&gt; …
$ Discount.redeemed                                                                                                                                             &lt;chr&gt; …
$ Tax.on.sales                                                                                                                                                  &lt;chr&gt; …
$ Tax.on.booking.fees                                                                                                                                           &lt;chr&gt; …
$ Gateway                                                                                                                                                       &lt;chr&gt; …
$ Access.code.used                                                                                                                                              &lt;lgl&gt; …
$ Checked.in                                                                                                                                                    &lt;chr&gt; …
$ Checked.in.date                                                                                                                                               &lt;lgl&gt; …
$ Event.date                                                                                                                                                    &lt;chr&gt; …
$ Event.time                                                                                                                                                    &lt;chr&gt; …
$ QR.code.data                                                                                                                                                  &lt;chr&gt; …
$ Sales.Channel                                                                                                                                                 &lt;chr&gt; …
$ Do.you.have.experience.in.R.and.RStudio..or.will.you.be.getting.training.prior.to.this.workshop...Do.not.register.unless.you.can.answer.Yes.to.this.question. &lt;chr&gt; …
$ Do.you.have.experience.in.SPSS..or.will.you.be.getting.training.prior.to.this.workshop...Do.not.register.unless.you.can.answer.Yes.to.this.question.          &lt;chr&gt; …
$ Do.you.have.experience.in.Unix.Linux..or.will.you.be.getting.training.prior.to.this.workshop...Do.not.register.unless.you.can.answer.Yes.to.this.question.    &lt;chr&gt; …
$ year                                                                                                                                                          &lt;int&gt; …
$ Do.you.have.prior.experience.with.Python.                                                                                                                     &lt;chr&gt; …
$ Position.                                                                                                                                                     &lt;chr&gt; …
$ Are.you.currently.using.NCI.                                                                                                                                  &lt;chr&gt; …
$ Field.of.Research                                                                                                                                             &lt;chr&gt; …
$ Prior.knowledge.of.topic                                                                                                                                      &lt;chr&gt; …
$ School.faculty                                                                                                                                                &lt;chr&gt; …
$ Organisation.company                                                                                                                                          &lt;lgl&gt; …
$ Do.you.have.experience.in.SPSS..or.will.you.be.getting.training.prior.to.this.workshop.                                                                       &lt;chr&gt; …</code></pre>
</div>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(attendance_all_years)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   5251 obs. of  60 variables:
 $ Event                                                                                                                                                        : chr  "Introduction to Programming: R for Reproducible Scientific Analysis (Feb 2024)" "Introduction to Programming: R for Reproducible Scientific Analysis (Feb 2024)" "Introduction to Programming: R for Reproducible Scientific Analysis (Feb 2024)" "Introduction to Programming: R for Reproducible Scientific Analysis (Feb 2024)" ...
 $ First.name                                                                                                                                                   : chr  "Alexandra Anne" "Jacob" "Jermaine Marie Ann" "Jinyun" ...
 $ Last.name                                                                                                                                                    : chr  "Williams" "Batham" "Fabella" "Cai" ...
 $ Seating.location                                                                                                                                             : logi  NA NA NA NA NA NA ...
 $ Ticket.type                                                                                                                                                  : chr  "QCIF Members" "QCIF Members" "QCIF Members" "QCIF Members" ...
 $ Reporting.group                                                                                                                                              : logi  NA NA NA NA NA NA ...
 $ Package                                                                                                                                                      : logi  NA NA NA NA NA NA ...
 $ Order.id                                                                                                                                                     : chr  "MNVXUKLJ" "DVF54NPF" "Q42S8UNV" "2F3JYTKS" ...
 $ Ticket.no.                                                                                                                                                   : chr  "1st" "1st" "1st" "1st" ...
 $ Order.date...time                                                                                                                                            : chr  "2024-02-01 1:39 pm" "2024-02-01 1:22 pm" "2024-01-31 9:10 pm" "2024-01-31 2:50 pm" ...
 $ Timezone                                                                                                                                                     : chr  "AEST" "AEST" "AEST" "AEST" ...
 $ Buyer.first.name                                                                                                                                             : chr  "Alexandra Anne" "Jacob" "Jermaine Marie Ann" "Jinyun" ...
 $ Buyer.last.name                                                                                                                                              : chr  "Williams" "Batham" "Fabella" "Cai" ...
 $ Buyer.mobile                                                                                                                                                 : chr  "+61408189840" "0408795912" "0402641976" "+61493414889" ...
 $ Buyer.email                                                                                                                                                  : chr  "alexandra.williams@cqumail.com" "jacob.batham@griffith.edu.au" "j.fabella.10@student.scu.edu.au" "jin.cai@griffithuni.edu.au" ...
 $ First.Name                                                                                                                                                   : chr  "Alexandra Anne" "Jacob" "Jermaine Marie Ann" "Jinyun" ...
 $ Last.Name                                                                                                                                                    : chr  "Williams" "Batham" "Fabella" "Cai" ...
 $ Email                                                                                                                                                        : chr  "alexandra.williams@cqumail.com" "jacob.batham@griffith.edu.au" "j.fabella.10@student.scu.edu.au" "jin.cai@griffithuni.edu.au" ...
 $ Mobile                                                                                                                                                       : chr  "+61408189840" "0408795912" "0402641976" "+61493414889" ...
 $ I.am.                                                                                                                                                        : chr  "Higher Degree Research Student - PhD" "Professional Staff" "Higher Degree Research Student - other" "Higher Degree Research Student - other" ...
 $ Please.specify.                                                                                                                                              : chr  NA NA NA NA ...
 $ Organisation                                                                                                                                                 : chr  "Central Queensland University" "Griffith University" "Southern Cross University" "Griffith University" ...
 $ School.or.faculty                                                                                                                                            : chr  "CMERC" "NCNED" "Faculty of Science and Engineering" "School of Health Sciences and Social Work" ...
 $ Organisation.Company                                                                                                                                         : chr  NA NA NA NA ...
 $ How.did.you.find.out.about.this.workshop.                                                                                                                    : chr  "Supervisor" "Supervisor" "School/faculty newsletter" "Other" ...
 $ Paid                                                                                                                                                         : chr  "$0.00" "$0.00" "$0.00" "$0.00" ...
 $ Humanitix.passed.on.fees                                                                                                                                     : chr  "$0.00" "$0.00" "$0.00" "$0.00" ...
 $ Humanitix.absorbed.fees                                                                                                                                      : chr  "$0.00" "$0.00" "$0.00" "$0.00" ...
 $ Amex.surcharge                                                                                                                                               : chr  "$0.00" "$0.00" "$0.00" "$0.00" ...
 $ Custom.tax                                                                                                                                                   : chr  "$0.00" "$0.00" "$0.00" "$0.00" ...
 $ Zip.fee.absorbed.                                                                                                                                            : chr  "$0.00" "$0.00" "$0.00" "$0.00" ...
 $ Afterpay.fee.absorbed.                                                                                                                                       : chr  "$0.00" "$0.00" "$0.00" "$0.00" ...
 $ Refunds                                                                                                                                                      : chr  "$0.00" "$0.00" "$0.00" "$0.00" ...
 $ Fee.rebate                                                                                                                                                   : chr  "$0.00" "$0.00" "$0.00" "$0.00" ...
 $ Your.earnings                                                                                                                                                : chr  "$0.00" "$0.00" "$0.00" "$0.00" ...
 $ Refunded.fees                                                                                                                                                : chr  "$0.00" "$0.00" "$0.00" "$0.00" ...
 $ Discount.code.used                                                                                                                                           : chr  NA NA NA NA ...
 $ Discount.redeemed                                                                                                                                            : chr  "$0.00" "$0.00" "$0.00" "$0.00" ...
 $ Tax.on.sales                                                                                                                                                 : chr  "$0.00" "$0.00" "$0.00" "$0.00" ...
 $ Tax.on.booking.fees                                                                                                                                          : chr  "$0.00" "$0.00" "$0.00" "$0.00" ...
 $ Gateway                                                                                                                                                      : chr  "braintree" "braintree" "braintree" "braintree" ...
 $ Access.code.used                                                                                                                                             : logi  NA NA NA NA NA NA ...
 $ Checked.in                                                                                                                                                   : chr  "Not checked in" "Not checked in" "Not checked in" "Not checked in" ...
 $ Checked.in.date                                                                                                                                              : logi  NA NA NA NA NA NA ...
 $ Event.date                                                                                                                                                   : chr  "05/02/2024" "05/02/2024" "05/02/2024" "05/02/2024" ...
 $ Event.time                                                                                                                                                   : chr  "9:00 am - 12:30 pm" "9:00 am - 12:30 pm" "9:00 am - 12:30 pm" "9:00 am - 12:30 pm" ...
 $ QR.code.data                                                                                                                                                 : chr  "{\"eventId\":\"65812412e991ee36da043b4b\",\"_id\":\"65bb128ef7d958d10fe5cd33\"}" "{\"eventId\":\"65812412e991ee36da043b4b\",\"_id\":\"65bb0e5aeb92e0527ae4f813\"}" "{\"eventId\":\"65812412e991ee36da043b4b\",\"_id\":\"65ba2ac3d4ba953d2384a864\"}" "{\"eventId\":\"65812412e991ee36da043b4b\",\"_id\":\"65b9d18391ca4712311c07c3\"}" ...
 $ Sales.Channel                                                                                                                                                : chr  "Online" "Online" "Online" "Online" ...
 $ Do.you.have.experience.in.R.and.RStudio..or.will.you.be.getting.training.prior.to.this.workshop...Do.not.register.unless.you.can.answer.Yes.to.this.question.: chr  NA NA NA NA ...
 $ Do.you.have.experience.in.SPSS..or.will.you.be.getting.training.prior.to.this.workshop...Do.not.register.unless.you.can.answer.Yes.to.this.question.         : chr  NA NA NA NA ...
 $ Do.you.have.experience.in.Unix.Linux..or.will.you.be.getting.training.prior.to.this.workshop...Do.not.register.unless.you.can.answer.Yes.to.this.question.   : chr  NA NA NA NA ...
 $ year                                                                                                                                                         : int  2024 2024 2024 2024 2024 2024 2024 2024 2024 2024 ...
 $ Do.you.have.prior.experience.with.Python.                                                                                                                    : chr  NA NA NA NA ...
 $ Position.                                                                                                                                                    : chr  NA NA NA NA ...
 $ Are.you.currently.using.NCI.                                                                                                                                 : chr  NA NA NA NA ...
 $ Field.of.Research                                                                                                                                            : chr  NA NA NA NA ...
 $ Prior.knowledge.of.topic                                                                                                                                     : chr  NA NA NA NA ...
 $ School.faculty                                                                                                                                               : chr  NA NA NA NA ...
 $ Organisation.company                                                                                                                                         : logi  NA NA NA NA NA NA ...
 $ Do.you.have.experience.in.SPSS..or.will.you.be.getting.training.prior.to.this.workshop.                                                                      : chr  NA NA NA NA ...</code></pre>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="fu">is.na</span>(attendance_all_years))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 99375</code></pre>
</div>
</div>
</section>
<section id="data-cleaning" class="level3">
<h3 class="anchored" data-anchor-id="data-cleaning">04. Data Cleaning</h3>
<p>This section performs column renaming, removes duplicates and redundant fields, converts data types, handles missing values, and generates a unique student ID.</p>
<section id="check-for-potential-duplicate-columns" class="level4">
<h4 class="anchored" data-anchor-id="check-for-potential-duplicate-columns">4.1 Check for Potential Duplicate Columns</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Preview potential duplicate columns across datasets </span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>attendance_all_years <span class="sc">%&gt;%</span> <span class="fu">select</span>(First.name, First.Name) <span class="sc">%&gt;%</span> <span class="fu">head</span>(<span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>           First.name         First.Name
1      Alexandra Anne     Alexandra Anne
2               Jacob              Jacob
3  Jermaine Marie Ann Jermaine Marie Ann
4              Jinyun             Jinyun
5              Chioma             Chioma
6                 Amy                Amy
7                Asri               Asri
8             Natalie            Natalie
9               Lijun              Lijun
10            Katelyn            Katelyn</code></pre>
</div>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>attendance_all_years <span class="sc">%&gt;%</span> <span class="fu">select</span>(Last.name, Last.Name) <span class="sc">%&gt;%</span> <span class="fu">head</span>(<span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     Last.name   Last.Name
1     Williams    Williams
2       Batham      Batham
3      Fabella     Fabella
4          Cai         Cai
5       Ojiako      Ojiako
6       McEwen      McEwen
7     Pratitis    Pratitis
8  Eaton-Fitch Eaton-Fitch
9  Summerhayes Summerhayes
10     Collins     Collins</code></pre>
</div>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>attendance_all_years <span class="sc">%&gt;%</span> <span class="fu">select</span>(Organisation, Organisation.Company, Organisation.company) <span class="sc">%&gt;%</span> <span class="fu">head</span>(<span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                          Organisation Organisation.Company
1        Central Queensland University                 &lt;NA&gt;
2                  Griffith University                 &lt;NA&gt;
3            Southern Cross University                 &lt;NA&gt;
4                  Griffith University                 &lt;NA&gt;
5     University of the Sunshine Coast                 &lt;NA&gt;
6                  Griffith University                 &lt;NA&gt;
7     University of the Sunshine Coast                 &lt;NA&gt;
8                  Griffith University                 &lt;NA&gt;
9  Queensland University of Technology                 &lt;NA&gt;
10   University of Southern Queensland                 &lt;NA&gt;
   Organisation.company
1                    NA
2                    NA
3                    NA
4                    NA
5                    NA
6                    NA
7                    NA
8                    NA
9                    NA
10                   NA</code></pre>
</div>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>attendance_all_years <span class="sc">%&gt;%</span> <span class="fu">select</span>(School.or.faculty, School.faculty) <span class="sc">%&gt;%</span> <span class="fu">head</span>(<span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                                           School.or.faculty School.faculty
1                                                      CMERC           &lt;NA&gt;
2                                                      NCNED           &lt;NA&gt;
3                         Faculty of Science and Engineering           &lt;NA&gt;
4                  School of Health Sciences and Social Work           &lt;NA&gt;
5              School of Science, Technology and Engineering           &lt;NA&gt;
6                                                       &lt;NA&gt;           &lt;NA&gt;
7              School of Science, Technology and Engineering           &lt;NA&gt;
8  National Centre for Neuroimmunology and Emerging Diseases           &lt;NA&gt;
9                                                       &lt;NA&gt;           &lt;NA&gt;
10                        School of Psychology and Wellbeing           &lt;NA&gt;</code></pre>
</div>
</div>
</section>
<section id="compare-missing-values-in-duplicate-columns" class="level4">
<h4 class="anchored" data-anchor-id="compare-missing-values-in-duplicate-columns">4.2 Compare Missing Values in Duplicate Columns</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Sumarize the number of missing (NA) values in potentially duplicated columns </span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="co"># to identify which versions contain usable data before merging or dropping</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>attendance_all_years <span class="sc">%&gt;%</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">First.name_NA =</span> <span class="fu">sum</span>(<span class="fu">is.na</span>(First.name)),</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">First.Name_NA =</span> <span class="fu">sum</span>(<span class="fu">is.na</span>(First.Name)),</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">Last.name_NA  =</span> <span class="fu">sum</span>(<span class="fu">is.na</span>(Last.name)),</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">Last.Name_NA  =</span> <span class="fu">sum</span>(<span class="fu">is.na</span>(Last.Name)),</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">Organisation_NA =</span> <span class="fu">sum</span>(<span class="fu">is.na</span>(Organisation)),</span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">Organisation.Company_NA =</span> <span class="fu">sum</span>(<span class="fu">is.na</span>(Organisation.Company)),</span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">Organisation.company_NA =</span> <span class="fu">sum</span>(<span class="fu">is.na</span>(Organisation.company)),</span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">School.or.faculty_NA =</span> <span class="fu">sum</span>(<span class="fu">is.na</span>(School.or.faculty)),</span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">School.faculty_NA=</span> <span class="fu">sum</span>(<span class="fu">is.na</span>(School.faculty))</span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  First.name_NA First.Name_NA Last.name_NA Last.Name_NA Organisation_NA
1             0             0            0            0            1255
  Organisation.Company_NA Organisation.company_NA School.or.faculty_NA
1                    4075                    5251                 2258
  School.faculty_NA
1              5247</code></pre>
</div>
</div>
</section>
<section id="drop-redundant-columns" class="level4">
<h4 class="anchored" data-anchor-id="drop-redundant-columns">4.3 Drop Redundant Columns</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Drop redundant columns</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>attendance_all_years <span class="ot">&lt;-</span> attendance_all_years <span class="sc">%&gt;%</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>First.Name, <span class="sc">-</span>Last.Name, <span class="sc">-</span>Organisation.Company, <span class="sc">-</span>Organisation.company, <span class="sc">-</span>School.faculty)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="clean-column-names" class="level4">
<h4 class="anchored" data-anchor-id="clean-column-names">4.4 Clean Column Names</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Rename key workshop</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>attendance_all_years <span class="ot">&lt;-</span> attendance_all_years <span class="sc">%&gt;%</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>  janitor<span class="sc">::</span><span class="fu">clean_names</span>()</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(attendance_all_years)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "event"                                                                                                                                                     
 [2] "first_name"                                                                                                                                                
 [3] "last_name"                                                                                                                                                 
 [4] "seating_location"                                                                                                                                          
 [5] "ticket_type"                                                                                                                                               
 [6] "reporting_group"                                                                                                                                           
 [7] "package"                                                                                                                                                   
 [8] "order_id"                                                                                                                                                  
 [9] "ticket_no"                                                                                                                                                 
[10] "order_date_time"                                                                                                                                           
[11] "timezone"                                                                                                                                                  
[12] "buyer_first_name"                                                                                                                                          
[13] "buyer_last_name"                                                                                                                                           
[14] "buyer_mobile"                                                                                                                                              
[15] "buyer_email"                                                                                                                                               
[16] "email"                                                                                                                                                     
[17] "mobile"                                                                                                                                                    
[18] "i_am"                                                                                                                                                      
[19] "please_specify"                                                                                                                                            
[20] "organisation"                                                                                                                                              
[21] "school_or_faculty"                                                                                                                                         
[22] "how_did_you_find_out_about_this_workshop"                                                                                                                  
[23] "paid"                                                                                                                                                      
[24] "humanitix_passed_on_fees"                                                                                                                                  
[25] "humanitix_absorbed_fees"                                                                                                                                   
[26] "amex_surcharge"                                                                                                                                            
[27] "custom_tax"                                                                                                                                                
[28] "zip_fee_absorbed"                                                                                                                                          
[29] "afterpay_fee_absorbed"                                                                                                                                     
[30] "refunds"                                                                                                                                                   
[31] "fee_rebate"                                                                                                                                                
[32] "your_earnings"                                                                                                                                             
[33] "refunded_fees"                                                                                                                                             
[34] "discount_code_used"                                                                                                                                        
[35] "discount_redeemed"                                                                                                                                         
[36] "tax_on_sales"                                                                                                                                              
[37] "tax_on_booking_fees"                                                                                                                                       
[38] "gateway"                                                                                                                                                   
[39] "access_code_used"                                                                                                                                          
[40] "checked_in"                                                                                                                                                
[41] "checked_in_date"                                                                                                                                           
[42] "event_date"                                                                                                                                                
[43] "event_time"                                                                                                                                                
[44] "qr_code_data"                                                                                                                                              
[45] "sales_channel"                                                                                                                                             
[46] "do_you_have_experience_in_r_and_r_studio_or_will_you_be_getting_training_prior_to_this_workshop_do_not_register_unless_you_can_answer_yes_to_this_question"
[47] "do_you_have_experience_in_spss_or_will_you_be_getting_training_prior_to_this_workshop_do_not_register_unless_you_can_answer_yes_to_this_question"          
[48] "do_you_have_experience_in_unix_linux_or_will_you_be_getting_training_prior_to_this_workshop_do_not_register_unless_you_can_answer_yes_to_this_question"    
[49] "year"                                                                                                                                                      
[50] "do_you_have_prior_experience_with_python"                                                                                                                  
[51] "position"                                                                                                                                                  
[52] "are_you_currently_using_nci"                                                                                                                               
[53] "field_of_research"                                                                                                                                         
[54] "prior_knowledge_of_topic"                                                                                                                                  
[55] "do_you_have_experience_in_spss_or_will_you_be_getting_training_prior_to_this_workshop"                                                                     </code></pre>
</div>
</div>
</section>
<section id="check-for-duplicate-rows" class="level4">
<h4 class="anchored" data-anchor-id="check-for-duplicate-rows">4.5 Check for Duplicate Rows</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Find duplicate rows</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>duplicates <span class="ot">&lt;-</span> attendance_all_years[<span class="fu">duplicated</span>(attendance_all_years), ]</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(duplicates)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] event                                                                                                                                                     
 [2] first_name                                                                                                                                                
 [3] last_name                                                                                                                                                 
 [4] seating_location                                                                                                                                          
 [5] ticket_type                                                                                                                                               
 [6] reporting_group                                                                                                                                           
 [7] package                                                                                                                                                   
 [8] order_id                                                                                                                                                  
 [9] ticket_no                                                                                                                                                 
[10] order_date_time                                                                                                                                           
[11] timezone                                                                                                                                                  
[12] buyer_first_name                                                                                                                                          
[13] buyer_last_name                                                                                                                                           
[14] buyer_mobile                                                                                                                                              
[15] buyer_email                                                                                                                                               
[16] email                                                                                                                                                     
[17] mobile                                                                                                                                                    
[18] i_am                                                                                                                                                      
[19] please_specify                                                                                                                                            
[20] organisation                                                                                                                                              
[21] school_or_faculty                                                                                                                                         
[22] how_did_you_find_out_about_this_workshop                                                                                                                  
[23] paid                                                                                                                                                      
[24] humanitix_passed_on_fees                                                                                                                                  
[25] humanitix_absorbed_fees                                                                                                                                   
[26] amex_surcharge                                                                                                                                            
[27] custom_tax                                                                                                                                                
[28] zip_fee_absorbed                                                                                                                                          
[29] afterpay_fee_absorbed                                                                                                                                     
[30] refunds                                                                                                                                                   
[31] fee_rebate                                                                                                                                                
[32] your_earnings                                                                                                                                             
[33] refunded_fees                                                                                                                                             
[34] discount_code_used                                                                                                                                        
[35] discount_redeemed                                                                                                                                         
[36] tax_on_sales                                                                                                                                              
[37] tax_on_booking_fees                                                                                                                                       
[38] gateway                                                                                                                                                   
[39] access_code_used                                                                                                                                          
[40] checked_in                                                                                                                                                
[41] checked_in_date                                                                                                                                           
[42] event_date                                                                                                                                                
[43] event_time                                                                                                                                                
[44] qr_code_data                                                                                                                                              
[45] sales_channel                                                                                                                                             
[46] do_you_have_experience_in_r_and_r_studio_or_will_you_be_getting_training_prior_to_this_workshop_do_not_register_unless_you_can_answer_yes_to_this_question
[47] do_you_have_experience_in_spss_or_will_you_be_getting_training_prior_to_this_workshop_do_not_register_unless_you_can_answer_yes_to_this_question          
[48] do_you_have_experience_in_unix_linux_or_will_you_be_getting_training_prior_to_this_workshop_do_not_register_unless_you_can_answer_yes_to_this_question    
[49] year                                                                                                                                                      
[50] do_you_have_prior_experience_with_python                                                                                                                  
[51] position                                                                                                                                                  
[52] are_you_currently_using_nci                                                                                                                               
[53] field_of_research                                                                                                                                         
[54] prior_knowledge_of_topic                                                                                                                                  
[55] do_you_have_experience_in_spss_or_will_you_be_getting_training_prior_to_this_workshop                                                                     
&lt;0 rows&gt; (or 0-length row.names)</code></pre>
</div>
</div>
</section>
<section id="drop-columns-with-80-missing-values" class="level4">
<h4 class="anchored" data-anchor-id="drop-columns-with-80-missing-values">4.6 Drop Columns with &gt;80% Missing Values</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate and sort missing value percentages by column</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>na_percent <span class="ot">&lt;-</span> <span class="fu">colMeans</span>(<span class="fu">is.na</span>(attendance_all_years)) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="fu">sort</span>(na_percent, <span class="at">decreasing =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                                                                                                                                          seating_location 
                                                                                                                                              100.00000000 
                                                                                                                                           reporting_group 
                                                                                                                                              100.00000000 
                                                                                                                                                   package 
                                                                                                                                              100.00000000 
                                                                                                                                          access_code_used 
                                                                                                                                              100.00000000 
                                                                                                                                           checked_in_date 
                                                                                                                                              100.00000000 
                                                                                                                                        discount_code_used 
                                                                                                                                               99.98095601 
                                                                     do_you_have_experience_in_spss_or_will_you_be_getting_training_prior_to_this_workshop 
                                                                                                                                               99.25728433 
                                                                                                                                            please_specify 
                                                                                                                                               98.83831651 
    do_you_have_experience_in_unix_linux_or_will_you_be_getting_training_prior_to_this_workshop_do_not_register_unless_you_can_answer_yes_to_this_question 
                                                                                                                                               98.70500857 
                                                                                                                  do_you_have_prior_experience_with_python 
                                                                                                                                               97.75280899 
          do_you_have_experience_in_spss_or_will_you_be_getting_training_prior_to_this_workshop_do_not_register_unless_you_can_answer_yes_to_this_question 
                                                                                                                                               92.53475528 
                                                                                                                                                  position 
                                                                                                                                               87.50714150 
                                                                                                                               are_you_currently_using_nci 
                                                                                                                                               87.50714150 
                                                                                                                                         field_of_research 
                                                                                                                                               87.50714150 
                                                                                                                                  prior_knowledge_of_topic 
                                                                                                                                               87.50714150 
do_you_have_experience_in_r_and_r_studio_or_will_you_be_getting_training_prior_to_this_workshop_do_not_register_unless_you_can_answer_yes_to_this_question 
                                                                                                                                               80.97505237 
                                                                                                                                         school_or_faculty 
                                                                                                                                               43.00133308 
                                                                                                                                              organisation 
                                                                                                                                               23.90020948 
                                                                                                                                                      i_am 
                                                                                                                                               18.52980385 
                                                                                                                  how_did_you_find_out_about_this_workshop 
                                                                                                                                               11.44543896 
                                                                                                                                                    mobile 
                                                                                                                                                0.01904399 
                                                                                                                                                     event 
                                                                                                                                                0.00000000 
                                                                                                                                                first_name 
                                                                                                                                                0.00000000 
                                                                                                                                                 last_name 
                                                                                                                                                0.00000000 
                                                                                                                                               ticket_type 
                                                                                                                                                0.00000000 
                                                                                                                                                  order_id 
                                                                                                                                                0.00000000 
                                                                                                                                                 ticket_no 
                                                                                                                                                0.00000000 
                                                                                                                                           order_date_time 
                                                                                                                                                0.00000000 
                                                                                                                                                  timezone 
                                                                                                                                                0.00000000 
                                                                                                                                          buyer_first_name 
                                                                                                                                                0.00000000 
                                                                                                                                           buyer_last_name 
                                                                                                                                                0.00000000 
                                                                                                                                              buyer_mobile 
                                                                                                                                                0.00000000 
                                                                                                                                               buyer_email 
                                                                                                                                                0.00000000 
                                                                                                                                                     email 
                                                                                                                                                0.00000000 
                                                                                                                                                      paid 
                                                                                                                                                0.00000000 
                                                                                                                                  humanitix_passed_on_fees 
                                                                                                                                                0.00000000 
                                                                                                                                   humanitix_absorbed_fees 
                                                                                                                                                0.00000000 
                                                                                                                                            amex_surcharge 
                                                                                                                                                0.00000000 
                                                                                                                                                custom_tax 
                                                                                                                                                0.00000000 
                                                                                                                                          zip_fee_absorbed 
                                                                                                                                                0.00000000 
                                                                                                                                     afterpay_fee_absorbed 
                                                                                                                                                0.00000000 
                                                                                                                                                   refunds 
                                                                                                                                                0.00000000 
                                                                                                                                                fee_rebate 
                                                                                                                                                0.00000000 
                                                                                                                                             your_earnings 
                                                                                                                                                0.00000000 
                                                                                                                                             refunded_fees 
                                                                                                                                                0.00000000 
                                                                                                                                         discount_redeemed 
                                                                                                                                                0.00000000 
                                                                                                                                              tax_on_sales 
                                                                                                                                                0.00000000 
                                                                                                                                       tax_on_booking_fees 
                                                                                                                                                0.00000000 
                                                                                                                                                   gateway 
                                                                                                                                                0.00000000 
                                                                                                                                                checked_in 
                                                                                                                                                0.00000000 
                                                                                                                                                event_date 
                                                                                                                                                0.00000000 
                                                                                                                                                event_time 
                                                                                                                                                0.00000000 
                                                                                                                                              qr_code_data 
                                                                                                                                                0.00000000 
                                                                                                                                             sales_channel 
                                                                                                                                                0.00000000 
                                                                                                                                                      year 
                                                                                                                                                0.00000000 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Drop columns with more than 80% missing values</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>attendance_all_years <span class="ot">&lt;-</span> attendance_all_years <span class="sc">%&gt;%</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">which</span>(na_percent<span class="sc">&gt;</span><span class="dv">80</span>))</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(attendance_all_years)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5251</code></pre>
</div>
</div>
</section>
<section id="remove-columns-with-one-unique-value" class="level4">
<h4 class="anchored" data-anchor-id="remove-columns-with-one-unique-value">4.7 Remove Columns with One Unique Value</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check unique values</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>unique_counts <span class="ot">&lt;-</span> <span class="fu">sapply</span>(attendance_all_years, \(x) <span class="fu">length</span>(<span class="fu">unique</span>(x)))</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a><span class="fu">sort</span>(unique_counts)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                humanitix_passed_on_fees 
                                       1 
                              custom_tax 
                                       1 
                        zip_fee_absorbed 
                                       1 
                   afterpay_fee_absorbed 
                                       1 
                              fee_rebate 
                                       1 
                     tax_on_booking_fees 
                                       1 
                              checked_in 
                                       1 
                                timezone 
                                       2 
                          amex_surcharge 
                                       2 
                                 refunds 
                                       2 
                           refunded_fees 
                                       2 
                       discount_redeemed 
                                       2 
                                 gateway 
                                       2 
                           sales_channel 
                                       2 
                                    year 
                                       2 
                               ticket_no 
                                       3 
                                    i_am 
                                       7 
                 humanitix_absorbed_fees 
                                       8 
                           your_earnings 
                                       8 
                            tax_on_sales 
                                       8 
                              event_time 
                                      11 
                            organisation 
                                      12 
                                    paid 
                                      14 
how_did_you_find_out_about_this_workshop 
                                      16 
                             ticket_type 
                                      20 
                              event_date 
                                     148 
                                   event 
                                     154 
                       school_or_faculty 
                                     736 
                        buyer_first_name 
                                    1770 
                              first_name 
                                    1773 
                         buyer_last_name 
                                    1923 
                               last_name 
                                    1935 
                             buyer_email 
                                    2317 
                                   email 
                                    2373 
                                  mobile 
                                    2521 
                            buyer_mobile 
                                    2558 
                         order_date_time 
                                    4988 
                                order_id 
                                    5236 
                            qr_code_data 
                                    5251 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove columns that have only one unique value</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>attendance_all_years <span class="ot">&lt;-</span> attendance_all_years <span class="sc">%&gt;%</span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">where</span>(<span class="sc">~</span> <span class="fu">n_distinct</span>(.) <span class="sc">&gt;</span> <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="convert-dates-and-datetimes" class="level4">
<h4 class="anchored" data-anchor-id="convert-dates-and-datetimes">4.8 Convert Dates and Datetimes</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># # Convert event column to appropriate data type</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>attendance_all_years<span class="sc">$</span>event_date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(attendance_all_years<span class="sc">$</span>event_date, <span class="at">format =</span> <span class="st">"%d/%m/%Y"</span>)</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert order_date_time to datetime and separate into order_date and order_time columns</span></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>attendance_all_years <span class="ot">&lt;-</span> attendance_all_years <span class="sc">%&gt;%</span></span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Convert order_date_time from text to proper datetime (POSIXct)</span></span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">order_date_time =</span> <span class="fu">as.POSIXct</span>(order_date_time, <span class="at">format =</span> <span class="st">"%Y-%m-%d %I:%M %p"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create separate date and time columns</span></span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">order_date =</span> <span class="fu">as.Date</span>(order_date_time),                <span class="co"># extract date only</span></span>
<span id="cb38-12"><a href="#cb38-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">order_time =</span> <span class="fu">format</span>(order_date_time, <span class="st">"%H:%M:%S"</span>)      <span class="co"># extract time as string (24-hour)</span></span>
<span id="cb38-13"><a href="#cb38-13" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="generate-student-id-hashed" class="level4">
<h4 class="anchored" data-anchor-id="generate-student-id-hashed">4.9 Generate Student ID (Hashed)</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Standardize and Generate Student ID</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>attendance_all_years <span class="ot">&lt;-</span> attendance_all_years <span class="sc">%&gt;%</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">email =</span> <span class="fu">tolower</span>(<span class="fu">trimws</span>(email)),</span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span></span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">student_id =</span> <span class="fu">digest</span>(<span class="fu">paste</span>(</span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">coalesce</span>(email, <span class="st">""</span>)</span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a>  ), <span class="at">algo =</span> <span class="st">"sha256"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check if any email is linked to more than one student ID</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>attendance_all_years <span class="sc">%&gt;%</span></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(email) <span class="sc">%&gt;%</span></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">unique_ids =</span> <span class="fu">n_distinct</span>(student_id)) <span class="sc">%&gt;%</span></span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(unique_ids <span class="sc">&gt;</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 0 × 2
# ℹ 2 variables: email &lt;chr&gt;, unique_ids &lt;int&gt;</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Identify and inspect records where the same email is associated with multiple student IDs</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>attendance_all_years <span class="sc">%&gt;%</span></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(email <span class="sc">%in%</span> (</span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>    attendance_all_years <span class="sc">%&gt;%</span></span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>      <span class="fu">group_by</span>(email) <span class="sc">%&gt;%</span></span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a>      <span class="fu">summarise</span>(<span class="at">unique_ids =</span> <span class="fu">n_distinct</span>(student_id)) <span class="sc">%&gt;%</span></span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(unique_ids <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a>      <span class="fu">pull</span>(email)</span>
<span id="cb42-9"><a href="#cb42-9" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">%&gt;%</span></span>
<span id="cb42-10"><a href="#cb42-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(email, first_name, last_name,student_id) <span class="sc">%&gt;%</span></span>
<span id="cb42-11"><a href="#cb42-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(email)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 0 × 4
# ℹ 4 variables: email &lt;chr&gt;, first_name &lt;chr&gt;, last_name &lt;chr&gt;,
#   student_id &lt;chr&gt;</code></pre>
</div>
</div>
</section>
<section id="identify-and-remove-duplicate-participantevent-records-same-email-registered-multiple-times-for-same-workshop" class="level4">
<h4 class="anchored" data-anchor-id="identify-and-remove-duplicate-participantevent-records-same-email-registered-multiple-times-for-same-workshop">4.10 Identify and Remove Duplicate Participant–Event Records (same email registered multiple times for same workshop)</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Identify Duplicate Registrations (Same Email + Event)</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>attendance_all_years <span class="sc">%&gt;%</span></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(student_id, event) <span class="sc">%&gt;%</span></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 61 × 3
   student_id                                                       event      n
   &lt;chr&gt;                                                            &lt;chr&gt;  &lt;int&gt;
 1 00a3c9eb9fc51e6e49b6d4ed59945ed6d8307c96876370927d9d243b3e99e3de Intro…     2
 2 05d47777217a0a969d86fa2f9f6bd2c63bdc395796e9a46e94e3e4b9313cc4d2 Intro…     2
 3 05d47777217a0a969d86fa2f9f6bd2c63bdc395796e9a46e94e3e4b9313cc4d2 Intro…     2
 4 05d47777217a0a969d86fa2f9f6bd2c63bdc395796e9a46e94e3e4b9313cc4d2 Intro…     2
 5 05d47777217a0a969d86fa2f9f6bd2c63bdc395796e9a46e94e3e4b9313cc4d2 Versi…     2
 6 0d5b9257d281ceb159265986c115e0e0c79815ac842bb5bf9425113052a4c673 An In…     2
 7 1a9bbd7c90134ccf0ce7979bad3b9dfdac2f923f12494a76d8c5138f8a3a9c52 Singl…     2
 8 1b715435ae7c27a6ba2bed6e56472f30b661495222f4673fcef7f9c6fc4bedca REDCa…     2
 9 2d3a39a8853250d046dd39c3241cdd14c25a0d3a9c9797f28d71957d52264cfb Conta…     2
10 30f083a228a42e7ec221b995f3a16a9e03d1eaff8c864ad09e51ca1318246b7c Stati…     2
# ℹ 51 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>attendance_all_years <span class="sc">%&gt;%</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">duplicated</span>(<span class="fu">select</span>(., student_id, event)) <span class="sc">|</span> <span class="fu">duplicated</span>(<span class="fu">select</span>(., student_id, event), <span class="at">fromLast =</span> <span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 122 × 35
   event first_name last_name ticket_type order_id ticket_no order_date_time    
   &lt;chr&gt; &lt;chr&gt;      &lt;chr&gt;     &lt;chr&gt;       &lt;chr&gt;    &lt;chr&gt;     &lt;dttm&gt;             
 1 Intr… elly       cheng     QCIF Membe… EJ96GK3D 1st       2024-02-29 18:06:00
 2 Intr… elly       cheng     QCIF Membe… EC59X3XR 1st       2024-02-05 18:17:00
 3 An I… Barbara    Azevedo … QCIF Membe… XSQVC56P 1st       2024-03-13 17:06:00
 4 An I… Barbara    Azevedo … QCIF Membe… BQP2J8XN 1st       2024-01-12 10:54:00
 5 REDC… Vanessa    Behan     QCIF Membe… RA8LHAX7 1st       2024-03-21 18:14:00
 6 REDC… Vanessa    Behan     QCIF Membe… SWXP24JG 1st       2024-01-16 12:53:00
 7 Expl… Dilara     Zahid     QCIF Membe… GAK39TXL 1st       2024-04-16 14:19:00
 8 Expl… mst sabri… moonajil… QCIF Membe… AWK294PD 1st       2024-03-21 15:57:00
 9 Expl… mst sabri… moonajil… QCIF Membe… 8DVFHEL4 1st       2024-03-06 09:34:00
10 Expl… Dilara     Zahid     QCIF Membe… FBKUMVWC 1st       2024-02-28 06:32:00
# ℹ 112 more rows
# ℹ 28 more variables: timezone &lt;chr&gt;, buyer_first_name &lt;chr&gt;,
#   buyer_last_name &lt;chr&gt;, buyer_mobile &lt;chr&gt;, buyer_email &lt;chr&gt;, email &lt;chr&gt;,
#   mobile &lt;chr&gt;, i_am &lt;chr&gt;, organisation &lt;chr&gt;, school_or_faculty &lt;chr&gt;,
#   how_did_you_find_out_about_this_workshop &lt;chr&gt;, paid &lt;chr&gt;,
#   humanitix_absorbed_fees &lt;chr&gt;, amex_surcharge &lt;chr&gt;, refunds &lt;chr&gt;,
#   your_earnings &lt;chr&gt;, refunded_fees &lt;chr&gt;, discount_redeemed &lt;chr&gt;, …</code></pre>
</div>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="co"># remove duplicate participant-event records</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>attendance_all_years <span class="ot">&lt;-</span> attendance_all_years <span class="sc">%&gt;%</span></span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(student_id, event, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="summaries" class="level3">
<h3 class="anchored" data-anchor-id="summaries">05 Summaries</h3>
<p>This section provides a summary of workshop participation, including total records, number of unique participants, participants by workshop and date, and the number of workshops attended per person.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Total records</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>attendance_all_years <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(<span class="at">total_rows =</span> <span class="fu">n</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
  total_rows
       &lt;int&gt;
1       5190</code></pre>
</div>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Total number of unique participants</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>attendance_all_years <span class="sc">%&gt;%</span></span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">unique_participants =</span> <span class="fu">n_distinct</span>(student_id))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
  unique_participants
                &lt;int&gt;
1                2339</code></pre>
</div>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Total participants by workshop/event</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>attendance_all_years <span class="sc">%&gt;%</span></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(event) <span class="sc">%&gt;%</span></span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total_participants =</span> <span class="fu">n_distinct</span>(student_id)) <span class="sc">%&gt;%</span></span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(total_participants))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 154 × 2
   event                                                      total_participants
   &lt;chr&gt;                                                                   &lt;int&gt;
 1 Data Visualisation for Research Communication (Apr 2024)                   90
 2 Data Visualisation for Research Communication (Aug 2025)                   84
 3 Data Visualisation for Research Communication (Jul 2024)                   76
 4 Introduction to Image Classification (Aug 2025) - NCI                      73
 5 Introduction to High Performance Computing (HPC) (Aug 202…                 72
 6 Fundamentals of Classification in Machine Learning (Sep 2…                 70
 7 Decision Trees and Ensemble Methods in Machine Learning (…                 67
 8 Fundamentals of Classification in Machine Learning (Jul 2…                 65
 9 Decision Trees and Ensemble Methods in Machine Learning (…                 64
10 Fundamentals of Regression in Machine Learning (Apr 2025)…                 64
# ℹ 144 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Total participants by workshop and date</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>attendance_all_years <span class="sc">%&gt;%</span></span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(event, event_date) <span class="sc">%&gt;%</span></span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total_participants =</span> <span class="fu">n_distinct</span>(student_id)) <span class="sc">%&gt;%</span></span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(event, event_date)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'event'. You can override using the
`.groups` argument.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 154 × 3
# Groups:   event [154]
   event                                           event_date total_participants
   &lt;chr&gt;                                           &lt;date&gt;                  &lt;int&gt;
 1 An Introduction to NGS and Bioinformatics Anal… 2025-04-07                 34
 2 An Introduction to NGS and Bioinformatics Anal… 2024-03-15                 36
 3 An Introduction to NGS and Bioinformatics Anal… 2024-09-03                 29
 4 Analysing Categorical Outcomes and Logistic Re… 2024-05-16                 31
 5 Analysing Categorical Outcomes and Logistic Re… 2024-10-03                 16
 6 Building Projects in REDCap (Jul 2025)          2025-07-30                 22
 7 Clustering and Unsupervised Methods in Machine… 2025-07-29                 63
 8 Containers for Reproducible Computational Envi… 2025-04-14                 20
 9 Containers for Reproducible Computational Envi… 2024-07-24                 10
10 Containers for Reproducible Computational Envi… 2024-05-27                 21
# ℹ 144 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Number of workshops attended per person</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>attendance_all_years <span class="sc">%&gt;%</span></span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(student_id) <span class="sc">%&gt;%</span></span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">workshops_attended =</span> <span class="fu">n_distinct</span>(event)) <span class="sc">%&gt;%</span></span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(workshops_attended))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2,339 × 2
   student_id                                                 workshops_attended
   &lt;chr&gt;                                                                   &lt;int&gt;
 1 e388717aef349f3da7b87b3d8ed8e28587eee707d2fcc1f1050ae755a…                 29
 2 89b3ba8638ea1b0cdb4d1580c7a5727c05ed639c679df0d1317bc4aea…                 25
 3 5330f0b39c8dcf378d78ac10be83b442ebc2f680cbe0e2db3741a062f…                 21
 4 a16a6ed3e2ca834f6a7a23151b0270e05dd15129875d65a9c204c66a3…                 21
 5 1a9bbd7c90134ccf0ce7979bad3b9dfdac2f923f12494a76d8c5138f8…                 16
 6 9384c6b0a36099ebbee4904d4a6f9ebbee387b0ce5840fc218468a690…                 16
 7 51cb9c26e0236dcec76c812630c9ba5af07ed1878798846a0e5fff150…                 15
 8 c96f45b5f20b0044f397da208802948321b0dffb95eef8f100a5a41d3…                 15
 9 84fad272fd2513b029296dedc42dac60b052cd925a426b624eda3fe49…                 14
10 cafa1145fe5c7ba8ff448549921968ce5afd16a9beed9d0bc227c3dd4…                 14
# ℹ 2,329 more rows</code></pre>
</div>
</div>
</section>
<section id="visualizations" class="level3">
<h3 class="anchored" data-anchor-id="visualizations">06 Visualizations</h3>
<p>This section presents visual insights from the cleaned attendance data, including workshop popularity, attendance trends over time, and participant engagement patterns.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Top 10 Workshops by Number of Participants</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>attendance_all_years <span class="sc">%&gt;%</span></span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(event) <span class="sc">%&gt;%</span></span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total_participants =</span> <span class="fu">n_distinct</span>(student_id)) <span class="sc">%&gt;%</span></span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(total_participants)) <span class="sc">%&gt;%</span></span>
<span id="cb60-6"><a href="#cb60-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">20</span>) <span class="sc">%&gt;%</span></span>
<span id="cb60-7"><a href="#cb60-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(event, total_participants), <span class="at">y =</span> total_participants)) <span class="sc">+</span></span>
<span id="cb60-8"><a href="#cb60-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">fill =</span> <span class="st">"#0073C2FF"</span>, <span class="at">width =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb60-9"><a href="#cb60-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> total_participants), <span class="at">hjust =</span> <span class="sc">-</span><span class="fl">0.2</span>, <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb60-10"><a href="#cb60-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb60-11"><a href="#cb60-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb60-12"><a href="#cb60-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Top 10 Workshops by Number of Participants"</span>,</span>
<span id="cb60-13"><a href="#cb60-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Workshop (Event)"</span>,</span>
<span id="cb60-14"><a href="#cb60-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Unique Participants"</span></span>
<span id="cb60-15"><a href="#cb60-15" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb60-16"><a href="#cb60-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">12</span>) <span class="sc">+</span></span>
<span id="cb60-17"><a href="#cb60-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="02_data_cleaning_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Line chart – participation trend across time</span></span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>attendance_all_years <span class="sc">%&gt;%</span></span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(event_date) <span class="sc">%&gt;%</span></span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total_participants =</span> <span class="fu">n_distinct</span>(student_id)) <span class="sc">%&gt;%</span></span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> event_date, <span class="at">y =</span> total_participants)) <span class="sc">+</span></span>
<span id="cb61-6"><a href="#cb61-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">"#2E8B57"</span>, <span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb61-7"><a href="#cb61-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"#2E8B57"</span>) <span class="sc">+</span></span>
<span id="cb61-8"><a href="#cb61-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_date</span>(</span>
<span id="cb61-9"><a href="#cb61-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">date_breaks =</span> <span class="st">"1 month"</span>,     <span class="co"># show a tick every month</span></span>
<span id="cb61-10"><a href="#cb61-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">date_labels =</span> <span class="st">"%b %Y"</span>        <span class="co"># label as "Jan 2024", "Feb 2024", etc.</span></span>
<span id="cb61-11"><a href="#cb61-11" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb61-12"><a href="#cb61-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(</span>
<span id="cb61-13"><a href="#cb61-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">100</span>, <span class="at">by =</span> <span class="dv">10</span>),   </span>
<span id="cb61-14"><a href="#cb61-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">labels =</span> scales<span class="sc">::</span>comma            <span class="co"># adds nice comma formatting</span></span>
<span id="cb61-15"><a href="#cb61-15" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.
ℹ Please use `linewidth` instead.</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="02_data_cleaning_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Workshop Attendance Over Time"</span>,</span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Event Date"</span>,</span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Number of Participants"</span></span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb63-6"><a href="#cb63-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">12</span>) <span class="sc">+</span></span>
<span id="cb63-7"><a href="#cb63-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb63-8"><a href="#cb63-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb63-9"><a href="#cb63-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>)  <span class="co"># rotate labels for clarity</span></span>
<span id="cb63-10"><a href="#cb63-10" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>NULL</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Most active participants</span></span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>attendance_all_years <span class="sc">%&gt;%</span></span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(student_id) <span class="sc">%&gt;%</span></span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">workshops_attended =</span> <span class="fu">n_distinct</span>(event)) <span class="sc">%&gt;%</span></span>
<span id="cb65-5"><a href="#cb65-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(workshops_attended)) <span class="sc">%&gt;%</span></span>
<span id="cb65-6"><a href="#cb65-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">10</span>) <span class="sc">%&gt;%</span>  <span class="co"># top 10 participants</span></span>
<span id="cb65-7"><a href="#cb65-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(student_id, workshops_attended), <span class="at">y =</span> workshops_attended)) <span class="sc">+</span></span>
<span id="cb65-8"><a href="#cb65-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">fill =</span> <span class="st">"#FF8C00"</span>, <span class="at">width =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb65-9"><a href="#cb65-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> workshops_attended), <span class="at">hjust =</span> <span class="sc">-</span><span class="fl">0.2</span>, <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb65-10"><a href="#cb65-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb65-11"><a href="#cb65-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb65-12"><a href="#cb65-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Top 10 Participants by Workshops Attended"</span>,</span>
<span id="cb65-13"><a href="#cb65-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Participant (student_id)"</span>,</span>
<span id="cb65-14"><a href="#cb65-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Workshops Attended"</span></span>
<span id="cb65-15"><a href="#cb65-15" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb65-16"><a href="#cb65-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">12</span>) <span class="sc">+</span></span>
<span id="cb65-17"><a href="#cb65-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="02_data_cleaning_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>